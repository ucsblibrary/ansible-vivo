---
# Complete Vivo server

- hosts: all
  become: yes
  roles:
    - geerlingguy.mysql

- hosts: all
  become: yes
  roles:
    - geerlingguy.apache

- hosts: all
  become: yes
  roles:
    - williamyeh.oracle-java

- hosts: all
  become: yes
  environment:
    - CATALINA_BASE: "/usr/share/tomcat"
    - NAME: "tomcat"
  roles:
    - bertvv.tomcat

- hosts: all
  become: yes
  environment:
    - CATALINA_BASE: "/usr/share/tomcat"
    - NAME: "tomcat"
  tasks:
    - user: name={{app_user}} state=present
      become: yes
    - include: tasks/devtools.yml
    - include: tasks/ant.yml
    - include: tasks/apache2.yml
    - include: tasks/vivo.yml
